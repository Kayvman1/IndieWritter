{"version":3,"sources":["logo.svg","backendLookup/comps.js","poems/lookup.js","poems/buttons.js","profiles/comps.js","poems/detail.js","poems/list.js","poems/create.js","poems/feed.js","poems/comps.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","backendLookup","method","endpoint","callback","data","JsonData","JSON","stringify","xhr","XMLHttpRequest","url","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","responseType","open","setRequestHeader","onload","status","response","detail","window","location","href","indexOf","onerror","e","console","log","send","apiPoemList","username","nextUrl","undefined","replace","apiPoemFeed","ActionBtn","props","className","poem","action","didPerformAction","actionDisplay","display","likes","handleApiActionEvent","type","onClick","event","preventDefault","poemID","id","apiPoemAction","UserPicture","hideActions","user","UserLink","displayName","is_repub","first_name","last_name","handleUserClick","Fragment","ParentPoem","parent","Poem","isRepub","isDetail","didRepost","useState","actionPoem","setActionPoem","match","pathname","parseInt","handelPerformAction","newActionPoem","title","content","ListPoem","poemsInit","setPoemsInit","poems","setPoems","setNextUrl","poemsDidSet","setPoemsDidSet","useEffect","final","newPoems","concat","next","results","alert","handleDidRepost","newPoem","updatedPoemsInit","unshift","updateFinalTweet","map","item","index","key","PoemCreate","titleRef","React","createRef","contentRef","didPost","handleBackendUpdate","onSubmit","current","value","ref","placeholder","required","FeedList","PoemsComp","setNewPoem","canPost","postprem","tempNewPoems","PoemDetailComp","poemId","SetPoem","didLookup","setDidLookup","handleLookup","apiPoemDetail","App","src","logo","alt","target","rel","Boolean","hostname","appEl","getElementById","ReactDOM","render","createElement","poemsEl","dataset","poemsFeedEl","querySelectorAll","forEach","container","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.b3f0fe83.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","export function backendLookup (method, endpoint, callback, data){\n  let JsonData\n  if (data) JsonData = JSON.stringify(data)\n  const xhr = new XMLHttpRequest()\n  const url = `http://localhost:8000/api${endpoint}`\n  const csrftoken = getCookie('csrftoken');\n\n  xhr.responseType = \"json\"\n  xhr.open (method, url)\n  xhr.setRequestHeader(\"Content-Type\", \"application/json\")\n \n \n\n\n\n\n  if (csrftoken){\n   // xhr.setRequestHeader(\"HTTP_X_REQUESTED_WITH\", \"XMLHttpRequest\")\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\")\n    xhr.setRequestHeader(\"X-CSRFToken\", csrftoken)\n  }\n   \n  xhr.onload = function(){\n    if(xhr.status===403){\n      const detail = xhr.response.detail\n      if (detail === \"Authentication credentials were not provided.\")\n        if (window.location.href.indexOf(\"/login?showLoginRequired=true\"  )=== -1)\n          window.location.href =\"/login?showLoginRequired=true\"      \n    }\n    else\n    callback(xhr.response, xhr.status)\n  }\n  xhr.onerror = function(e){\n    console.log(e)\n    callback({\"message\": \"The request was an error\"}, 400)\n  }\n  \n  xhr.send(JsonData)\n\n}\n\n\nfunction getCookie(name) {\n  var cookieValue = null;\n  if (document.cookie && document.cookie !== '') {\n    var cookies = document.cookie.split(';');\n    for (var i = 0; i < cookies.length; i++) {\n      var cookie = cookies[i].trim();\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\n","import {backendLookup} from '../backendLookup'\n\nexport function apiPoemAction (poemID, action, callback) {\n  backendLookup('POST', '/poems/action/', callback, {id:poemID, action:action })\n}\n\nexport function apiPoemCreate(newPoem, callback) {\n    backendLookup(\"POST\", \"/poems/create/\", callback, newPoem)\n  }\n  \nexport function apiPoemDetail (poemId, callback) {\n    const endpoint =`/poems/${poemId}`\n    backendLookup('GET', endpoint, callback)\n  }\n\n  export function apiPoemList (username, callback, nextUrl) {\n    let endpoint ='/poems'\n    if (username) endpoint =`/poems/?username=${username}`\n    if(nextUrl!== null && nextUrl !== undefined){\n      endpoint = nextUrl.replace(\"http://localhost:8000/api\",\"\")\n    }\n    backendLookup('GET', endpoint, callback)\n  }\n  export function apiPoemFeed (callback, nextUrl) {\n    let endpoint ='/poems/feed'\n    if(nextUrl!== null && nextUrl !== undefined){\n      endpoint = nextUrl.replace(\"http://localhost:8000/api\",\"\")\n    }\n    backendLookup('GET', endpoint, callback)\n  }\n  \n  ","import React from 'react'\nimport {apiPoemAction} from './lookup'\n\nexport function ActionBtn(props){\n    const className = props.className ? props.className : 'btn btn-primary btn-sm'\n    const {poem,action, didPerformAction} = props\n    const actionDisplay = action.display? action.display: 'action'\n    //eslint-disable-next-line\n    var likes = poem.likes ? poem.likes : 0\n\n    const handleApiActionEvent = (response,status)=>{\n       if ((status === 200 || status === 201)&& didPerformAction){\n        didPerformAction(response, status)\n      }  \n    }\n    const handleClick = (event) => {\n      event.preventDefault()\n      apiPoemAction(poem.id, action.type, handleApiActionEvent)\n     \n\n\n    }\n\n    const display = action.type === 'like' ? `${action.display} ${likes}`: actionDisplay\n     \n    return  <button className = {className}  onClick = {handleClick}>    {display} </button>\n  }\n","import React from 'react'\n\nexport function UserPicture(props){\n    let {hideActions, user} = props\n  \n    const handleUserClick= (event) =>{\n      event.preventDefault()\n      window.location.href = `/profile/${user.username}`\n      console.log(user.username)\n    }\n    return hideActions !== true ? \n    <span className='pointer px-3 py-2 rounded-circle bg-dark text-white' \n          onClick= {handleUserClick}\n   >\n    {user.username && user.username[0]  }\n    </span>:null\n    }\n export function UserLink(props){\n    const {user, is_repub} = props\n    let displayName \n    if(user.first_name || user.last_name)\n    displayName = user.first_name +\" \"+ user.last_name + \" @\" + user.username\n  \n    else \n      displayName = \"@\"+user.username\n    \n    const handleUserClick= (event) =>{\n        event.preventDefault()\n        window.location.href = `/profile/${user.username}`\n        console.log(user.username)\n      }\n  \n    return( is_repub === false ? \n    \n    <React.Fragment><h6><small>\n      By: <span onClick = {handleUserClick}>{displayName} </span>\n    </small></h6></React.Fragment>:\n    \n    <React.Fragment><h6><small>\n      Repub By: <span onClick = {handleUserClick}>{displayName} </span>\n    </small></h6> </React.Fragment>)\n   \n  }\n  ","import React, { useState} from 'react'\n//import {useEffect} from 'react'\n\nimport {ActionBtn} from './buttons'\nimport {UserLink, UserPicture} from '../profiles'\nexport function ParentPoem (props) {\n    const {poem} =props \n    \n    return (poem.parent ? \n      \n        <div id = 'PoemParent' className= \"p-2 border rounded mt-4 ml-3\" > \n           <p className = 'mb-4 small'/>\n           <Poem poem = {poem.parent} className = {''} hideActions = {true} isRepub={poem.parent.is_repub}/> \n        </div>\n      \n      :null)\n  }\nexport  function Poem(props){\n    const {poem, didRepost, hideActions} = props\n    const [actionPoem, setActionPoem] = useState(poem ? poem : null)\n    let className = props.className ? props.className : 'col-10 mx-5 pt-3 col-md-6'\n   // className = isRepub === true ? `${className}   : className\n    const path = window.location.pathname\n    var idRegex = /^[/](\\d+)/\n    let match = path.match(idRegex)\n    \n    var isDetail \n    if(match){\n      let urlPoemId = parseInt(match[1])\n      isDetail = (urlPoemId === poem.id)\n    }\n  \n    const handelPerformAction = (newActionPoem, status) =>{\n      if (status === 200)\n        setActionPoem(newActionPoem)\n      else if (status === 201)\n        if (didRepost)\n          didRepost(newActionPoem)\n      }\n\n    let handleShareClick = (event) => {\n      event.preventDefault()    \n      window.location.href =`/${poem.id}/`\n    }\n  \n    return (\n    <div className = {className}>\n    <div className = 'd-flex'>\n    <div className = ' mx-1'>\n      <UserPicture user = {poem.user} hideActions = {hideActions}></UserPicture>\n    </div>\n\n    <div className = 'col-11 '>\n      <div id = 'Poem'>\n        <h3>{poem.id}-{poem.title}</h3>\n        <UserLink is_repub = {poem.is_repub} user = {poem.user}></UserLink>\n\n        <p><big>{poem.content}</big></p>\n        <ParentPoem poem = {poem}/>\n      </div>\n    \n    <div id = 'action buttons' className = 'btn btn-group px-0'>\n    {actionPoem && hideActions !== true &&   <React.Fragment>\n          <ActionBtn poem = {actionPoem} didPerformAction = {handelPerformAction} action ={{type:\"like\", display : 'Likes'}}/>\n          <ActionBtn poem = {actionPoem} didPerformAction = {handelPerformAction} action ={{type:\"unlike\", display: 'Unlike'}}/>\n          <ActionBtn poem = {actionPoem} didPerformAction = {handelPerformAction} action ={{type:\"repub\", display: 'Repub'}}/>\n          </React.Fragment> \n          }\n         {!isDetail && <button onClick = {handleShareClick} className = 'btn btn-outline-primary btn-sm'>View</button>\n    }</div>\n    </div></div></div>)\n  }\n  ","import React, {useEffect, useState} from 'react'\nimport {apiPoemList, } from './lookup'\nimport {Poem} from './detail'\n\nexport  function ListPoem(props){\n    const [poemsInit, setPoemsInit] = useState([])\n    const [poems, setPoems] = useState([])\n    const [nextUrl, setNextUrl] = useState(null)\n    const [poemsDidSet, setPoemsDidSet] = useState(false)\n    const {username} = props\n  \n    useEffect( ()=>{\n      const final = [...props.newPoems].concat(poemsInit)\n      if (final.length !== poems.length)\n        setPoems(final)\n    },[poemsInit, props.newPoems, poems])\n  \n    useEffect(() => {\n      if (poemsDidSet ===false){\n        const handlePoemList = (response, status) =>{\n          if(status === 200){\n            setNextUrl(response.next)\n            setPoemsInit(response.results)\n            setPoemsDidSet(true)\n          }else\n            alert (\"Debug Error src/poems/list.js\")\n        }\n        apiPoemList(username, handlePoemList)\n      }\n    }, [poemsInit, poemsDidSet, setPoemsDidSet, username] )\n  \n    const handleDidRepost = (newPoem) =>{\n      const updatedPoemsInit = [...poemsInit] \n      updatedPoemsInit.unshift (newPoem)\n      setPoemsInit (updatedPoemsInit)\n      const updateFinalTweet = [...poems ]\n      updateFinalTweet.unshift(poems)\n      setPoems(updateFinalTweet)\n    }\n\n    const handleLoadNext = (event)=>{\n      event.preventDefault()\n      if (nextUrl!== null){\n        const handleLoadUpdate=(response,status)=>{\n          if(status === 200){\n            let newPoems = [...poems].concat(response.results)\n            setNextUrl(response.next)\n            setPoemsInit(newPoems)\n            setPoems(newPoems)\n            \n          }else\n            alert (\"Debug Error src/poems/list.js\")\n        \n        }\n        apiPoemList(props.username,handleLoadUpdate, nextUrl)\n      }\n    }\n    return <React.Fragment> {\n      poems.map((item, index)=>{\n        return <Poem poem = {item} didRepost = {handleDidRepost}  key ={`${index}-item.id`}\n        className = 'my-5 py-5 border bg-white text-dark' />\n     \n      })}\n     {nextUrl!==null && <button onClick={handleLoadNext} className ='btn btn-outline-primary'>Load Next</button>}</React.Fragment>\n    }\n","import React from 'react'\nimport { apiPoemCreate} from './lookup'\n\nexport function PoemCreate (props){\n    const titleRef = React.createRef()\n    const contentRef = React.createRef()\n    const {didPost} = props\n    \n    //backend api request\n    const handleSubmit = (event) =>{\n      event.preventDefault()\n      let title = titleRef.current.value\n      let content = contentRef.current.value\n      apiPoemCreate({title: title, content: content}, handleBackendUpdate)\n  \n      titleRef.current.value=''\n      contentRef.current.value=''\n    }\n    //backend api response handler\n    const handleBackendUpdate = (response, status) =>{\n      if (status ===201)\n        didPost(response)\n      else{\n        alert(\"this is debug alert 1 comps.js in src poems\\n\")\n        console.log(response)\n      }\n    }\n  \n    return (\n    <div id = 'form div' className ={props.className}>\n      <form onSubmit = {handleSubmit}>\n        <textarea ref = {titleRef} placeholder='titleREACT' className = 'form-control' name ='title' required={true}></textarea>\n        <textarea ref = {contentRef} className = 'form-control' name ='content' required ={true}></textarea>\n        <button type = 'submit' className = 'btn btn-primary my-3'> post </button>\n      </form>\n    </div>)\n  }","import React, {useEffect, useState} from 'react'\nimport {apiPoemFeed, } from './lookup'\nimport {Poem} from './detail'\n\nexport  function FeedList(props){\n    const [poemsInit, setPoemsInit] = useState([])\n    const [poems, setPoems] = useState([])\n    const [nextUrl, setNextUrl] = useState(null)\n    const [poemsDidSet, setPoemsDidSet] = useState(false)\n    const {username} = props\n  \n    useEffect( ()=>{\n      const final = [...props.newPoems].concat(poemsInit)\n      if (final.length !== poems.length)\n        setPoems(final)\n    },[poemsInit, props.newPoems, poems])\n  \n    useEffect(() => {\n      if (poemsDidSet ===false){\n        const handlePoemList = (response, status) =>{\n          if(status === 200){\n            setNextUrl(response.next)\n            setPoemsInit(response.results)\n            setPoemsDidSet(true)\n          }else\n            alert (\"Debug Error src/poems/list.js\")\n        }\n        apiPoemFeed( handlePoemList)\n      }\n    }, [poemsInit, poemsDidSet, setPoemsDidSet, username] )\n  \n    const handleDidRepost = (newPoem) =>{\n      const updatedPoemsInit = [...poemsInit] \n      updatedPoemsInit.unshift (newPoem)\n      setPoemsInit (updatedPoemsInit)\n      const updateFinalTweet = [...poems ]\n      updateFinalTweet.unshift(poems)\n      setPoems(updateFinalTweet)\n    }\n\n    const handleLoadNext = (event)=>{\n      event.preventDefault()\n      if (nextUrl!== null){\n        const handleLoadUpdate=(response,status)=>{\n          if(status === 200){\n            let newPoems = [...poems].concat(response.results)\n            setNextUrl(response.next)\n            setPoemsInit(newPoems)\n            setPoems(newPoems)\n            \n          }else\n            alert (\"Debug Error src/poems/list.js\")\n        \n        }\n        apiPoemFeed(handleLoadUpdate, nextUrl)\n      }\n    }\n    return <React.Fragment> {\n      poems.map((item, index)=>{\n        return <Poem poem = {item} didRepost = {handleDidRepost}  key ={`${index}-item.id`}\n        className = 'my-5 py-5 border bg-white text-dark' />\n     \n      })}\n     {nextUrl!==null && <button onClick={handleLoadNext} className ='btn btn-outline-primary'>Load Next</button>}</React.Fragment>\n    }\n","import React, {useEffect,useState} from 'react'\nimport {ListPoem} from './list'\nimport {PoemCreate} from './create'\nimport {FeedList} from './feed'\n\n\nimport {Poem} from './detail'\nimport {apiPoemDetail} from './lookup'\n\n// eslint-disable-next-line\nfunction print (s){\n  console.log(s)\n}\n\n\n\nexport function PoemsComp (props){\n  const [newPoems,setNewPoem] = useState([])\n  const {username, postprem} = props\n  const canPost = postprem === \"true\" ? true : false\n\n  const handleNewPoem = (newPoem)=>{\n    let tempNewPoems = [...newPoems]\n    tempNewPoems.unshift(newPoem)\n    setNewPoem(tempNewPoems)\n  }\n\n\n  return (\n  <div className = {props.className}>\n    {\n    canPost === true && \n    <PoemCreate didPost = {handleNewPoem}  className='col-12 mb-3'/>\n    }\n    <ListPoem newPoems = {newPoems} username = {username}/>\n  </div>)\n}\n\nexport function FeedComp (props){\n  const [newPoems,setNewPoem] = useState([])\n  const {username, postprem} = props\n  const canPost = postprem === \"true\" ? true : false\n\n  const handleNewPoem = (newPoem)=>{\n    let tempNewPoems = [...newPoems]\n    tempNewPoems.unshift(newPoem)\n    setNewPoem(tempNewPoems)\n  }\n\n\n  return (\n  <div className = {props.className}>\n    {\n    canPost === true && \n    <PoemCreate didPost = {handleNewPoem}  className='col-12 mb-3'/>\n    }\n    <FeedList newPoems = {newPoems} username = {username}/>\n  </div>)\n}\n\n\nexport function PoemDetailComp  (props) {\n  const {poemId} = props\n  const [poem, SetPoem] = useState(null)\n  const [didLookup, setDidLookup] = useState(false)\n\n  const handleLookup = (response, status)=>{\n    if (status === 200)\n      SetPoem(response)\n    else\n      alert (\"Debug Error src/poems/comps.js\")\n    }\n  useEffect(()=>{\n    if (didLookup ===false){ \n      apiPoemDetail(poemId,handleLookup)\n      setDidLookup(true)\n    }\n  },[didLookup,setDidLookup, poemId])\n\n  return poem === null ? null : <Poem poem = {poem} className = {props.className}/>\n\n}","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport {PoemsComp} from './poems'\n\n\n\n\nfunction App() {\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <div>\n         <PoemsComp/>\n        </div>\n        \n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { PoemsComp, PoemDetailComp, FeedComp} from './poems'\nimport * as serviceWorker from './serviceWorker';\n\nconst appEl = document.getElementById('root')\nif (appEl) {\n    ReactDOM.render(<App />, appEl);\n}\nconst e = React.createElement\nconst poemsEl = document.getElementById(\"indiewritter\")\nif (poemsEl) {\n    ReactDOM.render(\n        e(PoemsComp, poemsEl.dataset), poemsEl);\n}\n\nconst poemsFeedEl = document.getElementById(\"indiewritter-feed\")\nif (poemsFeedEl) {\n    ReactDOM.render(\n        e(FeedComp, poemsFeedEl.dataset), poemsFeedEl);\n}\n\n const poemDetailEls = document.querySelectorAll(\".poem-detail\")\n\n    poemDetailEls.forEach(container =>{\n        ReactDOM.render(\n            e(PoemDetailComp, container.dataset),\n        container); \n\n    })\n\n \n//tweetDetailElements.forEach(container=> {\n    //ReactDOM.render( e(PoemDetailComp, container.dataset), \n //container);\n//})\n\n \n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}